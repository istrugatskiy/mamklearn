(self.webpackChunkmamklearn=self.webpackChunkmamklearn||[]).push([[814],{814:(t,e,s)=>{"use strict";s.r(e),s.d(e,{quizStartTestCase:()=>r,updateStudentLocation:()=>Q,answerQuestion:()=>$,submitMultipleChoice:()=>f,submitShortAnswer:()=>L});var n=s(658),i=s(107);window.studentGameProcessor=function(t){var e=JSON.parse(t);if(e.hasOwnProperty("gameStart")){if(1==e.gameStart){clearInterval(a),clearInterval(l),clearInterval(o),(0,i.Ps)("player",currentUserConfig),c=15,u={currentQuestion:e.questionID,totalQuestions:e.totalQuestions,gameErrorState:!1,timeLeft:!1,currentQuestionData:{question:e.currentQuestion,answers:e.choices,timeLimit:e.currentQuestionTime}};for(var s="",r=1;r<=u.totalQuestions;r++)s+=`<th>${r}</th>`;(0,n.$)("studentRaceNumbers").innerHTML=s+"<th>finish</th>",(0,n.$)("gameStartScreenStudent").style.display="none",document.querySelector(".loader").classList.remove("loader--active"),(0,n.$)("title").style.display="none",(0,n.$)("studentPlayScreen").style.display="block",h(),setTimeout((()=>{(0,n.$)("loader-1").style.display="none",(0,n.$)("errorMessageA").style.display="none"}),1e3)}}else if(e.hasOwnProperty("error"))(0,n.$p)(e.error),u.gameErrorState=e.gameErrorState;else if(e.hasOwnProperty("kickPlayer"))clearInterval(a),clearTimeout(m),clearTimeout(y),(0,n.$)("titleButtonStudent").style.display="block",(0,n.$)("studentShortAnswer").classList.remove("transitionQuestionC"),(0,n.$)("titleButtonStudent").classList.remove("transitionQuestionC"),(0,n.$)("studentShortAnswer").style.display="block",(0,n.$)("titleButtonStudent").style.display="block",Array.from((0,n.$)("studentAnswersFlex").children).forEach((t=>{t.classList.remove("transitionQuestionB"),t.style.display="block",t.classList.remove("transitionQuestionC")})),(0,n.$)("errorMessageB").style.display="none",(0,n.$)("userNotifyPlay").style.display="none",(0,n.$)("errorActual").innerText="Kicked From Game",(0,n.$)("errorMessageA").style.display="block",(0,n.$)("gameStartScreenStudent").style.display="none",(0,n.$)("studentPlayScreen").style.display="none",document.querySelector(".loader").classList.remove("loader--active"),(0,n.$)("title").style.display="block",(0,n.$)("gameFinishNotify").style.display="none",clearInterval(l),(0,i.Hm)(),u=null,setTimeout((()=>{(0,n.$)("loader-1").style.display="none",(0,n.$)("errorMessageA").style.display="none"}),1e3);else if(e.hasOwnProperty("isQuestionCorrect")){if(clearInterval(a),clearInterval(o),e.isQuestionCorrect&&u.currentQuestion<u.totalQuestions-1)u.currentQuestion++,u.currentQuestionData.question=e.nextQuestion,u.currentQuestionData.answers=e.choices,u.currentQuestionData.timeLimit=e.currentQuestionTime,Array.from((0,n.$)("studentAnswersFlex").children).forEach((t=>{t.classList.add("transitionQuestionB"),setTimeout((()=>{t.firstElementChild.innerHTML=null,t.disabled=!1,t.classList.remove("transitionQuestionB"),t.classList.add("transitionQuestionC"),setTimeout((()=>{t.classList.remove("transitionQuestionC")}),400)}),400)})),(0,n.$)("titleButtonStudent").classList.add("transitionQuestionA"),(0,n.$)("studentShortAnswer").classList.add("transitionQuestionB"),setTimeout((()=>{h()}),400),setTimeout((()=>{(0,n.$)("studentShortAnswer").classList.add("transitionQuestionC"),(0,n.$)("studentShortAnswer").classList.remove("transitionQuestionB")}),400),setTimeout((()=>{(0,n.$)("titleButtonStudent").classList.remove("transitionQuestionA"),(0,n.$)("studentShortAnswer").classList.remove("transitionQuestionC")}),800);else if(e.isQuestionCorrect&&u.currentQuestion<u.totalQuestions)u.currentQuestion++,Q(u.currentQuestion),(0,n.$)("errorMessageB").style.display="block";else if(!e.isQuestionCorrect){var d=Date.now(),$=e.currentQuestionTime;o=setInterval((()=>{var t=(Date.now()-d)/1e3,e=$-t;e<0&&(e=0),console.log("Still Alive!"),(0,n.$)("mistakeQuestion").innerText=`You can try again in ${Math.floor(e)} seconds`}),100),Array.from((0,n.$)("studentAnswersFlex").children).forEach((t=>{t.classList.add("transitionQuestionB"),setTimeout((()=>{t.style.display="none",t.firstElementChild.innerHTML=null,t.disabled=!1,t.classList.remove("transitionQuestionB"),m=setTimeout((()=>{t.style.display="block",t.classList.add("transitionQuestionC"),setTimeout((()=>{t.classList.remove("transitionQuestionC")}),400)}),1e3*e.currentQuestionTime)}),400)})),(0,n.$)("titleButtonStudent").classList.add("transitionQuestionB"),(0,n.$)("studentShortAnswer").classList.add("transitionQuestionB"),setTimeout((()=>{(0,n.$)("titleButtonStudent").classList.remove("transitionQuestionB"),(0,n.$)("studentShortAnswer").classList.remove("transitionQuestionB"),(0,n.$)("titleButtonStudent").style.display="none",(0,n.$)("studentShortAnswer").style.display="none",(0,n.$)("userNotifyPlay").style.display="block",y=setTimeout((()=>{(0,n.$)("userNotifyPlay").classList.add("fadeOutThingy"),(0,n.$)("titleButtonStudent").classList.add("transitionQuestionC"),(0,n.$)("studentShortAnswer").classList.add("transitionQuestionC"),(0,n.$)("titleButtonStudent").style.display="block",h(),setTimeout((()=>{(0,n.$)("studentShortAnswer").classList.remove("transitionQuestionC"),(0,n.$)("titleButtonStudent").classList.remove("transitionQuestionC")}),400),setTimeout((()=>{clearInterval(o),(0,n.$)("userNotifyPlay").style.display="none"}),100)}),1e3*e.currentQuestionTime)}),400)}}else e.hasOwnProperty("gameFinish")&&((0,n.$)("gameFinishNotify").style.display="block",u.timeLeft=e.timeTillEnd,(0,n.$)("gameFinishNotify").innerText=`The game will end in ${u.timeLeft}s`,d=Date.now(),$=u.timeLeft,l=setInterval((()=>{console.log("Still Alive!");var t=(Date.now()-d)/1e3,e=$-t;e<0&&(e=0),u.timeLeft=e,(0,n.$)("gameFinishNotify").innerText=`The game will end in ${Math.floor(u.timeLeft)}s`}),100),setTimeout((()=>{clearInterval(l)}),1e3*u.timeLeft))};const r=' {"gameStart": true, "totalQuestions": 5, "currentQuestion": "If%20fish%20are%20fish", "choices": [ null ], "currentQuestionTime": 69, "questionID": 0 }';var o,a,l,u;window.anotherTestCase='{ "isQuestionCorrect": false, "nextQuestion": null, "choices": [ null ], "currentQuestionTime": 20 }',window.anotherTestCase2='{ "isQuestionCorrect": true, "nextQuestion": "heckDifferentQuestionTooLazyTooPutPercent", "choices": [ "Nabeel", "Nabeel2", "Nabeel3", "Nabeel4" ], "currentQuestionTime": 69 }',window.anotherTestCase3='{ "gameFinish": true, "timeTillEnd": 180}';const d=document.documentElement;var c,m,y;function h(){if(u){u.currentQuestion>u.totalQuestions||Q(u.currentQuestion),(0,n.$)("studentAnswersFlex").style.display="flex",(0,n.$)("titleButtonStudent").firstElementChild.innerText=decodeURI(u.currentQuestionData.question);for(var t=(0,n.$)("studentAnswersFlex").children,e=0;e<t.length;e++)u.currentQuestionData.answers[e]?(t[e].disabled=!1,t[e].style.display="block",t[e].firstElementChild.textContent=decodeURI(u.currentQuestionData.answers[e])):t[e].style.display="none";if(0==u.currentQuestionData.answers.join("").length?((0,n.$)("resettableCharLimited").innerText="0/180",(0,n.$)("studentAnswersFlex").style.display="none",(0,n.$)("studentShortAnswer").style.display="block",(0,n.$)("studentShortAnswerText").textContent=null,(0,n.$)("studentShortAnswerText").classList.remove("contentEditableDisabled"),(0,n.$)("studentShortAnswerText").contentEditable=!0,(0,n.$)("shortAnswerSubmitButton").disabled=!1):(0,n.$)("studentShortAnswer").style.display="none",0==u.currentQuestionData.timeLimit)(0,n.$)("timeLeftCounter").style.display="none";else{(0,n.$)("timeLeftCounter").style.display="block",(0,n.$)("timeLeftCounter").innerText=`(Time Left: ${u.currentQuestionData.timeLimit}s)`;var s=Date.now(),i=u.currentQuestionData.timeLimit;a=setInterval((()=>{var t=(Date.now()-s)/1e3;console.log("Still Alive!"),u.currentQuestionData.timeLimit=i-t,u.currentQuestionData.timeLimit<0&&u.currentQuestionData.timeLimit>-999?(0,n.$)("timeLeftCounter").innerText=`(Time Penalty: ${Math.abs(Math.floor(u.currentQuestionData.timeLimit))}s)`:u.currentQuestionData.timeLimit<-999?(0,n.$)("timeLeftCounter").innerText="(You're very slow)":(0,n.$)("timeLeftCounter").innerText=`(Time Left: ${Math.floor(u.currentQuestionData.timeLimit)}s)`}),10)}}}function Q(t){(0,n.Sx)(114*t/window.innerWidth,0,1)>.75&&(c-=114),t-=Math.abs((c-15)/114),d.style.setProperty("--questionOffset",t),d.style.setProperty("--bottomBarOffset",c+"px")}function $(t){console.log(t)}function f(t){var e=t.target.id.charAt(t.target.id.length-1);$(e),clearInterval(a),Array.from((0,n.$)("studentAnswersFlex").children).forEach(((t,s)=>{t.disabled=!0,s+1==e&&(t.firstElementChild.innerHTML="",t.firstElementChild.appendChild((0,n.$)("svgLoader").content.cloneNode(!0)))}))}function L(){(0,n.$)("studentShortAnswerText").contentEditable=!1,(0,n.$)("shortAnswerSubmitButton").disabled=!0,(0,n.$)("studentShortAnswerText").classList.add("contentEditableDisabled"),$((0,n.$)("studentShortAnswerText").textContent),clearInterval(a)}window.addEventListener("resize",(()=>{if(u){c=15;for(var t=0;t<=u.currentQuestion;t++)Q(t)}}))}}]);