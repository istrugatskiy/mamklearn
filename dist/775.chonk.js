(self.webpackChunkmamklearn=self.webpackChunkmamklearn||[]).push([[775],{775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createQuiz:()=>f,goBackMakeA:()=>Q,createNewQuiz:()=>z,addQuestion:()=>v,doneButtonA:()=>A,collapseSubArea:()=>T,collapseAllArea:()=>k,deleteQuestion:()=>w,reorderProper:()=>L,shortAnswerToggle:()=>M,toggleTime:()=>B,parseActiveQuiz:()=>C,verifyQuiz:()=>x,exitModalPopupF:()=>q,addquestionToDOM:()=>D,addQuiz:()=>N,questionErrorParse:()=>E,exitModalPopupTemplate:()=>P,playQuiz:()=>O,deleteQuiz:()=>S,deleteQuizConfirm:()=>H,editQuiz:()=>I,editQuizForm:()=>j,shareQuiz:()=>U,copyShareLink:()=>F});var i=n(137),a=n.n(i),o=n(658),s=n(107),l=!1,r=[];const d={quizID:"",quizName:"",questionObjects:[]};var u,c=null,m=0,$=null,p=0,h=null,b=!0,g={},y=!0;function f(){if(y&&((0,o.$)("createButtonA").disabled=!0,(0,o.$)("QuizName").disabled=!1,clickEvents["modal-bg"]=()=>{P("createQuizMenu")},(0,o.$)("submitQuizID").disabled=!1,(0,o.$)("QuizName").value="",(0,o.$)("createButtonA").classList.add("btnTransitionA"),(0,o.$)("backButtonC").disabled=!0,(0,o.$)("backButtonC").classList.add("btnTransitionA"),(0,o.$)("submitQuizID").innerHTML="Create",(0,o.$)("modal-bg").style.animation="fadeIn 0.5s",(0,o.$)("modal-bg").style.display="block",(0,o.$)("homeText2").classList.add("btnTransitionA"),(0,o.$)("createQuizMenu").style.animation="modalPopin 0.3s",(0,o.$)("manageQuizMenu").style.display="none",(0,o.$)("createQuizMenu").style.display="block",(0,o.$)("modal-popupA").style.display="block",(0,o.$)("modal-popupA").classList.add("modal-popupActive"),Object.keys(g).length>0))for(var e in g)(0,o.$)(e).classList.add("btnTransitionA")}function Q(){if(customOptionsIncrement=0,(0,o.$)("backButtonC").disabled=!0,(0,o.$)("homeText2").classList.add("titleTransition"),Object.keys(g).length>0)for(var e in g)(0,o.$)(e).classList.add("btnTransitionA");(0,o.$)("createButtonA").classList.add("btnTransitionA"),(0,o.$)("backButtonC").classList.add("btnTransitionA"),setTimeout((()=>{(0,o.$)("title").innerHTML="",(0,o.Td)("homeScreen"),(0,o.$)("title").style.height="800px",(0,o.$)("title").style.top="15%",(0,s.Ps)("currentUser",currentUserConfig)}),300)}function z(){y=!1;var e=(0,o.$)("submitQuizID");(0,o.$)("QuizName").disabled=!0;var t=(0,o.$)("QuizName").value;e.disabled=!0,e.innerHTML="",(0,o.Mn)("svgLoader",e.id),setTimeout((()=>{y=!0,g[(0,o.k$)()]=(0,o.F1)(t),P("createQuizMenu")}),1e3)}function v(){D(),(0,s.Z4)(),L(),(0,o.$)(`collapseSubArea${p}`).focus()}function A(){b&&((0,o.$)("modal-popupB").style.animation="modalPopout2 0.5s",(0,o.$)("editQuizMenu").style.animation="fadein 0.5s",(0,o.$)("editQuizMenu").style.visibility="visible",(0,o.$)("saveQuizButton").disabled=!1,(0,o.$)("backButtonEditQuiz").disabled=!1,(0,o.$)("quizNameUpdate").disabled=!1,(0,o.$)("addQuestionButton").disabled=!1,L(),setTimeout((function(){(0,o.$)("modal-popupB").style="",(0,o.$)("modal-popupB").style.visibility="none",(0,o.$)("modal-popupA").style.pointerEvents="all"}),500))}function T(e){var t=(0,o.$)(`collapseSubArea${e}`),n=(0,o.$)(`collapsableContent${e}`);t.classList.toggle("arrowBRight"),t.classList.toggle("arrowBDown"),n.classList.toggle("contentA1"),n.classList.toggle("contentA2"),null!==$&&$!==e&&(t=(0,o.$)(`collapseSubArea${$}`),n=(0,o.$)(`collapsableContent${$}`),t.classList.add("arrowBRight"),t.classList.remove("arrowBDown"),n.classList.add("contentA2"),n.classList.remove("contentA1")),$=e}function k(){if(null!==$&&null!=(0,o.$)(`collapseSubArea${$}`)){var e=(0,o.$)(`collapseSubArea${$}`),t=(0,o.$)(`collapsableContent${$}`);e.classList.add("arrowBRight"),e.classList.remove("arrowBDown"),t.classList.add("contentA2"),t.classList.remove("contentA1"),$=null}}function w(e){k(),(0,o.$)(`draggableQuestion${e}`).style.pointerEvents="none",(0,o.$)(`draggableQuestion${e}`).classList.add("btnTransitionA"),setTimeout((()=>{c.remove((0,o.$)(`draggableQuestion${e}`)),(0,o.$)(`draggableQuestion${e}`).remove(),L()}),300)}function L(){for(var e=0,t=0;t<=(0,o.$)("draggableDiv").children.length-1;t++)(0,o.$)("draggableDiv").children[t].firstElementChild.children[1].innerHTML=`Question ${t+1}:`,e=t;e>=24?((0,o.$)("addQuestionButton").disabled=!0,(0,o.$)("addQuestionButton").innerText="25/25 questions",(0,o.$)("addQuestionButton").style.cursor="no-drop"):((0,o.$)("addQuestionButton").disabled=!1,(0,o.$)("addQuestionButton").innerText="add question...",(0,o.$)("addQuestionButton").style.cursor="pointer")}function M(e){(0,o.$)(`answerContainerObject${e}`).classList.toggle("shortAnswerEditorStyles"),(0,o.$)(`collapsableContent${e}`).classList.toggle("noSpaceEditor")}function B(e){(0,o.$)(`Question${e}Time`).classList.toggle("displayTimeLimit")}function C(){(h=JSON.parse(JSON.stringify(d))).quizName=(0,o.F1)((0,o.$)("quizNameUpdate").value),h.quizID=u,(0,o.$)("draggableDiv").firstElementChild&&Array.from((0,o.$)("draggableDiv").children).forEach((e=>{var t=!1;e.children[1].children[4].children[0].children[0].checked&&(t=e.children[1].children[4].children[2].textContent),h.questionObjects.push({questionName:e.children[1].children[0].textContent,shortAnswer:e.children[1].children[3].children[0].children[0].checked,timeLimit:t,Answers:[{answer:e.children[1].children[5].children[0].children[0].textContent,correct:e.children[1].children[5].children[0].children[2].children[0].checked},{answer:e.children[1].children[5].children[1].children[0].textContent,correct:e.children[1].children[5].children[1].children[2].children[0].checked},{answer:e.children[1].children[5].children[2].children[0].textContent,correct:e.children[1].children[5].children[2].children[2].children[0].checked},{answer:e.children[1].children[5].children[3].children[0].textContent,correct:e.children[1].children[5].children[3].children[2].children[0].checked}]})}))}window.addEventListener("beforeunload",(e=>{l&&(e.preventDefault(),e.returnValue=" ")}));const x=()=>{var e=[],t="";if(0===h.questionObjects.length)e.push("No questions exist");else{var n=[],i=[],a=[],s=[],l=[];h.questionObjects.forEach(((e,t)=>{t++,/^$/.test(e.questionName)&&n.push(t),e.shortAnswer||(e.Answers[0].answer&&e.Answers[1].answer||a.push(t),e.Answers[0].correct||e.Answers[1].correct||e.Answers[2].correct||e.Answers[3].correct||s.push(t),e.Answers[2].answer&&e.Answers[3].answer||(e.Answers[2].correct&&!e.Answers[2].answer||e.Answers[3].correct&&!e.Answers[3].answer)&&l.push(t)),"boolean"!=typeof e.timeLimit&&(isNaN(e.timeLimit)||e.timeLimit<5)&&i.push(t)})),e.push(E(n,"has an empty question field","have an empty question field")),e.push(E(i,"has an invalid time limit or a time limit less than 5","have an invalid time limit or a time limit less than 5")),e.push(E(a,"does not have the first two answer fields filled out","do not have the first two answer fields filled out")),e.push(E(s,"does not have a correct option","do not have a correct option")),e.push(E(l,"has a correct option which corresponds to an empty field","have a correct option which corresponds to an empty field"))}return 0===e.join("").length||(e.forEach((e=>{null!=e&&(t+=`<li class="innerError">${(0,o.F1)(e)}</li>`)})),(0,o.$)("innerError3").innerHTML=t,!1)};function q(e){e?(C(),((0,o.vZ)(h,r[u])||confirm("Are you sure you want to go back? Any unsaved changes will be lost!"))&&q(!1)):(y=!1,(0,o.$)("modal-bg").style.animation="fadeOut 0.5s",(0,o.$)("editQuizMenu").style.animation="modalPopout 0.3s",setTimeout((()=>{l=!1,(0,o.$)("editQuizMenu").style="",(0,o.$)("modal-bg").style.display="none",(0,o.$)("editQuizMenu").style.display="none",(0,o.$)("saveQuizButton").disabled=!1,(0,o.$)("backButtonEditQuiz").disabled=!1,(0,o.$)("quizNameUpdate").disabled=!1,(0,o.$)("addQuestionButton").disabled=!1,(0,o.$)("modal-popupA").style.pointerEvents="all",(0,o.$)("saveQuizButton").innerHTML="Save",(0,o.$)("draggableDiv").innerHTML="",c.destroy(),p=0,y=!0}),500),setTimeout((()=>{(0,o.$)("modal-popupA").style.display="none"}),300),(0,o.Td)("makeMenu"),N())}function D(){p++,(0,o.Mn)("templateQuestion","draggableDiv","${highestQuestion}",p),(0,o.$)("draggableQuestion${highestQuestion}").id=`draggableQuestion${p}`}function N(){if(Object.keys(g).length>0){for(var e in g)(0,o.$)("makeDiv").innerHTML+=`<button style="min-width: 300px; min-height: 300px;  margin-top: 30px; text-align: center; font-size: xx-large; margin-left: 30px;" class="button titleTransitionBack quizActionButton" id="${e}"><img src="../img/qIcon-${m%4}.png" width="250"><br>${g[e]}</button>`,m++;m=0,(0,o.$)("backButtonC").remove(),(0,o.$)("removeButton").remove(),(0,o.$)("makeDiv").innerHTML+='<button style="min-width: 300px; min-height: 300px;  margin-top: 30px; text-align: center; font-size: xx-large;  max-width:300px; margin-left: 30px;" class="button titleTransitionBack" id="createButtonA"><img src="../img/createQuiz-2.png" width="250"><br>(Create quiz)</button>',(0,o.$)("makeDiv").innerHTML+='<br><br><div style="text-align:center; width: 100%25;"><button class="button titleTransitionBack" id="backButtonC">Back</button></div>',(0,o.$)("makeDiv").style.textAlign="center",document.querySelectorAll(".quizActionButton").forEach((e=>{e.addEventListener("click",(e=>{if(y&&((0,o.$)("createButtonA").disabled=!0,clickEvents["modal-bg"]=()=>{P("manageQuizMenu")},(0,o.$)("QuizName").disabled=!1,(0,o.$)("submitQuizID").disabled=!1,(0,o.$)("QuizName").value="",(0,o.$)("createButtonA").classList.add("btnTransitionA"),(0,o.$)("backButtonC").disabled=!0,(0,o.$)("backButtonC").classList.add("btnTransitionA"),(0,o.$)("submitQuizID").innerHTML="Create",(0,o.$)("modal-bg").style.animation="fadeIn 0.5s",(0,o.$)("modal-bg").style.display="block",(0,o.$)("quizNameTitleA").innerHTML=g[e.currentTarget.id]+":",(0,o.$)("homeText2").classList.add("btnTransitionA"),(0,o.$)("manageQuizMenu").style.animation="modalPopin 0.3s",(0,o.$)("manageQuizMenu").style.display="block",(0,o.$)("createQuizMenu").style.display="none",(0,o.$)("modal-popupA").style.display="block",(0,o.$)("modal-popupA").classList.add("modal-popupActive"),u=e.currentTarget.id,Object.keys(g).length>0))for(var t in g)(0,o.$)(t).classList.add("btnTransitionA")}))})),(0,o.$)("makeDiv").style.paddingLeft="30px"}}const E=(e,t,n)=>{let i="Questions";return 1==e.length?i=`Question ${e[0]} ${t}`:2==e.length?i=`Questions ${e[0]} and ${e[1]} ${n}`:0!=e&&(e.forEach((t=>{e.slice(-1)[0]!=t?i+=` ${t},`:i+=` and ${t}`})),i+=` ${n}`),"Questions"!=i?i:null},P=(e,t=!1)=>{(y||t)&&(y=!1,t=!0===t?!t:t,(0,o.$)("modal-bg").style.animation="fadeOut 0.5s",setTimeout((()=>{(0,o.$)("modal-bg").style.display="none",y=!0}),500),(0,o.$)(e).style.animation="modalPopout 0.3s",setTimeout((()=>{(0,o.$)("modal-popupA").style.display="none",t&&((0,o.$)(t).style.display="none")}),300),(0,o.Td)("makeMenu"),N())};function O(){(0,o.$)("modal-bg").style.animation="fadeOut 0.5s",setTimeout((function(){(0,o.$)("modal-bg").style.display="none"}),500),setTimeout((()=>{(0,o.$)("title").style.display="none",(0,o.$)("mainTheme").play(),(0,o.$)("mainTheme").volume=.6,(0,o.$)("teacherPlayScreen").style.display="block"}),1e3),(0,o.$)("manageQuizMenu").style.animation="modalPopout 0.3s",setTimeout((function(){(0,o.$)("modal-popupA").style.display="none"}),300)}function S(){y=!1,(0,o.$)("manageQuizMenu").style.animation="modalPopout 0.3s",(0,o.$)("deleteQuizConfirm").disabled=!1,(0,o.$)("backButtonDeleteConfirm").disabled=!1,(0,o.$)("deleteQuizConfirm").innerHTML="Delete",(0,o.$)("deleteQuizConfirm").style.backgroundColor="orange",setTimeout((function(){(0,o.$)("manageQuizMenu").style.display="none",(0,o.$)("quizDeleteConfirm").style.display="block",(0,o.$)("manageQuizMenu").style.animation="modalPopin 0.3s",(0,o.$)("quizDeleteConfirm").style.animation="modalPopin 0.3s"}),300)}function H(){delete g[u],(0,o.$)("deleteQuizConfirm").disabled=!0,(0,o.$)("backButtonDeleteConfirm").disabled=!0,(0,o.$)("deleteQuizConfirm").style.backgroundColor=null,(0,o.$)("deleteQuizConfirm").innerHTML="",(0,o.Mn)("svgLoader","deleteQuizConfirm"),setTimeout((function(){P("quizDeleteConfirm","quizDeleteConfirm")}),1e3)}function I(){y=!1,l=!0,(0,o.$)("manageQuizMenu").style.animation="modalPopout 0.3s",void 0===r[u]?(r[u]=JSON.parse(JSON.stringify(d)),r[u].quizName=g[u],r[u].quizID=u):(r[u].questionObjects.forEach((function(e){D();var t=(0,o.$)(`draggableQuestion${p}`).children[1].children;t[0].textContent=e.questionName,(0,o.Ao)(t[0],90),t[3].children[0].children[0].checked=e.shortAnswer,e.shortAnswer&&M(p),t[4].children[0].children[0].checked=e.timeLimit,"boolean"!=typeof e.timeLimit&&(B(p),t[4].children[2].textContent=e.timeLimit,(0,o.Ao)(t[4].children[2],3));for(var n=0;n<4;n++)t[5].children[n].children[0].textContent=e.Answers[n].answer,(0,o.Ao)(t[5].children[n].children[0],50),t[5].children[n].children[2].children[0].checked=e.Answers[n].correct})),L()),(0,o.$)("quizNameUpdate").value=(0,o.p1)(g[u]),c=a()([(0,o.$)("draggableDiv")],{moves:function(e,t,n){return n.classList.contains("draggableActual")}}).on("drag",(function(e){e.classList.add("dragging"),k()})).on("dragend",(function(e){e.classList.remove("dragging"),document.body.style.cursor="inherit",setTimeout((function(){L()}),100)})),setTimeout((function(){(0,o.$)("manageQuizMenu").style.display="none",(0,o.$)("editQuizMenu").style.display="block",(0,o.$)("manageQuizMenu").style.animation="modalPopin 0.3s",(0,o.$)("editQuizMenu").style.animation="modalPopin 0.3s",(0,s.Z4)()}),300)}function j(){(0,o.$)("modal-popupA").style.pointerEvents="none",(0,o.$)("saveQuizButton").disabled=!0,(0,o.$)("backButtonEditQuiz").disabled=!0,(0,o.$)("quizNameUpdate").disabled=!0,(0,o.$)("addQuestionButton").disabled=!0,k(),C(),x()?(r[u]=h,g[u]=(0,o.F1)((0,o.$)("quizNameUpdate").value),(0,o.$)("saveQuizButton").innerHTML="",(0,o.Mn)("svgLoader","saveQuizButton"),setTimeout((function(){q(!1)}),1e3),setTimeout((function(){(0,o.$)("errorActual").innerText="Quiz Saved",(0,o.$)("errorMessageA").style.display="block",setTimeout((function(){(0,o.$)("errorMessageA").style.display="none"}),1e3)}),1200)):((0,o.$)("modal-popupB").style.display="block",(0,o.$)("editQuizMenu").style.animation="fadeOut 0.5s",window.scrollTo(0,0),b=!1,setTimeout((function(){(0,o.$)("editQuizMenu").style.visibility="hidden",b=!0}),500))}function U(){y=!1,(0,o.$)("manageQuizMenu").style.animation="modalPopout 0.3s",setTimeout((function(){(0,o.$)("manageQuizMenu").style.display="none",(0,o.$)("shareQuizMenu").style.display="block",(0,o.$)("manageQuizMenu").style.animation="modalPopin 0.3s",(0,o.$)("shareQuizMenu").style.animation="modalPopin 0.3s"}),300)}function F(){navigator.clipboard.writeText((0,o.$)("coolTextArea").textContent),(0,o.$)("errorActual").innerText="Link Copied",(0,o.$)("errorMessageA").style.display="block",setTimeout((function(){(0,o.$)("errorMessageA").style.display="none"}),1e3)}}}]);