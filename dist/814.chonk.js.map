{"version":3,"sources":["webpack://mamklearn/./src/js/play.js"],"names":["window","studentGameProcessor","input","inputInternal","JSON","parse","hasOwnProperty","gameStart","clearInterval","timerInterval","finishUpInterval","otherInterval","currentUserConfig","bottomBarOffset","gameStateStudent","currentQuestion","questionID","totalQuestions","gameErrorState","timeLeft","currentQuestionData","question","answers","choices","timeLimit","currentQuestionTime","studentRaceBoxNumbers","i","$","innerHTML","style","animation","setTimeout","display","document","querySelector","classList","remove","setQuestion","error","clearTimeout","resettableTime","resettableTime2","resettableTime3","Array","from","children","forEach","object","textContent","isQuestionCorrect","nextQuestion","add","firstElementChild","firstChild","removeChild","lastChild","disabled","updateStudentLocation","start","Date","now","init","setInterval","delta","internal","Math","floor","timeTillEnd","quizStartTestCase","anotherTestCase","anotherTestCase2","anotherTestCase3","anotherTestCase4","root","documentElement","decodeURI","options","length","join","contentEditable","abs","studentLocation","innerWidth","setProperty","answerQuestion","answer","console","log","submitMultipleChoice","event","response","target","id","charAt","index","appendChild","content","cloneNode","submitShortAnswer","addEventListener"],"mappings":"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","file":"814.chonk.js","sourcesContent":["import {$, mathClamp, throwExcept} from './utils';\r\nimport {setCharImage, goBack} from './app';\r\nwindow.studentGameProcessor = studentGameProcessor;\r\n\r\nexport const quizStartTestCase = ' {\"gameStart\": true, \"totalQuestions\": 5, \"currentQuestion\": \"If%20fish%20are%20fish\", \"choices\": [ null ], \"currentQuestionTime\": 69, \"questionID\": 0 }';\r\nwindow.anotherTestCase = '{ \"isQuestionCorrect\": false, \"nextQuestion\": null, \"choices\": [ null ], \"currentQuestionTime\": 20 }';\r\nwindow.anotherTestCase2 = '{ \"isQuestionCorrect\": true, \"nextQuestion\": \"heckDifferentQuestionTooLazyTooPutPercent\", \"choices\": [ \"Nabeel\", \"Nabeel2\", \"Nabeel3\", \"Nabeel4\" ], \"currentQuestionTime\": 69 }';\r\nwindow.anotherTestCase3 = '{ \"gameFinish\": true, \"timeTillEnd\": 180}';\r\nwindow.anotherTestCase4 = '{ \"gameEnd\": true, \"result-1st\": \"Ilya%20Strugatskiy\", \"1CharacterConfig\": \"0,0,1,2,9\", \"result-2nd\": \"Ilya%20Strugatskiy\", \"2CharacterConfig\": \"0,0,1,2,9\", \"result-3rd\": \"Ilya%20Strugatskiy\", \"3CharacterConfig\": \"0,0,1,2,9\"}';\r\nvar otherInterval;\r\nvar timerInterval;\r\nvar finishUpInterval;\r\nvar gameStateStudent;\r\nconst root = document.documentElement;\r\nvar bottomBarOffset;\r\nvar resettableTime;\r\nvar resettableTime2;\r\nvar resettableTime3;\r\n\r\nfunction studentGameProcessor(input) {\r\n\tvar inputInternal = JSON.parse(input);\r\n\tif(inputInternal.hasOwnProperty('gameStart')) {\r\n\t\tif(inputInternal.gameStart == true) {\r\n\t\t\tclearInterval(timerInterval);\r\n            clearInterval(finishUpInterval);\r\n            clearInterval(otherInterval);\r\n\t\t\tsetCharImage('player', currentUserConfig);\r\n\t\t\tbottomBarOffset = 15;\r\n\t\t\tgameStateStudent = {\r\n\t\t\t\tcurrentQuestion: inputInternal.questionID,\r\n\t\t\t\ttotalQuestions: inputInternal.totalQuestions,\r\n\t\t\t\tgameErrorState: false,\r\n\t\t\t\ttimeLeft: false,\r\n\t\t\t\tcurrentQuestionData: {\r\n\t\t\t\t\tquestion: inputInternal.currentQuestion,\r\n\t\t\t\t\tanswers: inputInternal.choices,\r\n\t\t\t\t\ttimeLimit: inputInternal.currentQuestionTime\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar studentRaceBoxNumbers = '';\r\n\t\t\tfor (var i = 1; i <= gameStateStudent.totalQuestions; i++) {\r\n\t\t\t\tstudentRaceBoxNumbers += `<th>${i}</th>`\r\n\t\t\t}\r\n\t\t\t$('studentRaceNumbers').innerHTML = studentRaceBoxNumbers + `<th>finish</th>`;\r\n\t\t\t$('gameStartScreenStudent').style.animation = 'fadeOut 0.5s forwards';\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('gameStartScreenStudent').style.display = 'none';\r\n\t\t\t\t$('gameStartScreenStudent').style.animation = '';\r\n\t\t\t}, 500);\r\n\t\t\tvar $loader = document.querySelector(\".loader\");\r\n\t\t\t$loader.classList.remove('loader--active');\r\n\t\t\t$('title').style.display = \"none\";\r\n\t\t\t$('studentPlayScreen').style.display = \"block\";\r\n\t\t\tsetQuestion();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('loader-1').style.display = \"none\";\r\n\t\t\t\t$(\"errorMessageA\").style.display = \"none\";\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\telse if (inputInternal.hasOwnProperty('error')) {\r\n\t\tthrowExcept(inputInternal.error);\r\n\t\tgameStateStudent.gameErrorState = inputInternal.gameErrorState;\r\n\t}\r\n\telse if(inputInternal.hasOwnProperty('kickPlayer')) {\r\n\t\tclearInterval(timerInterval);\r\n        clearTimeout(resettableTime);\r\n        clearTimeout(resettableTime2);\r\n\t\tclearTimeout(resettableTime3);\r\n\t\t$('gameFinishNotify').style.animation = 'flowFromTop 1s forwards';\r\n\t\t$('titleButtonStudent').style.display = 'block';\r\n\t\t$('studentShortAnswer').classList.remove('transitionQuestionC');\r\n\t\t$('titleButtonStudent').classList.remove('transitionQuestionC');\r\n        $('studentShortAnswer').style.display = 'block';\r\n\t\t$('titleButtonStudent').style.display = 'block';\r\n        Array.from($('studentAnswersFlex').children).forEach((object) => {\r\n            object.classList.remove('transitionQuestionB');\r\n            object.style.display = 'block';\r\n            object.classList.remove('transitionQuestionC');\r\n        });\r\n\t\t$('errorMessageB').style.display = 'none';\r\n\t\t$('userNotifyPlay').style.display = 'none';\r\n\t\t$(\"errorActual\").textContent = 'Kicked From Game';\r\n\t\t$(\"errorMessageA\").style.display = 'block';\r\n\t\t$('gameStartScreenStudent').style.display = 'none';\r\n\t\t$('studentPlayScreen').style.display = 'none';\r\n\t\tvar $loader = document.querySelector('.loader');\r\n\t\t$loader.classList.remove('loader--active');\r\n\t\t$('title').style.display = \"block\";\r\n\t\t$('gameFinishNotify').style.display = 'none';\r\n        clearInterval(finishUpInterval);\r\n\t\tgoBack();\r\n\t\tgameStateStudent = null;\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('loader-1').style.display = \"none\";\r\n\t\t\t$(\"errorMessageA\").style.display = \"none\";\r\n\t\t}, 1000);\r\n\t}\r\n\telse if(inputInternal.hasOwnProperty('isQuestionCorrect')) {\r\n\t\tclearInterval(timerInterval);\r\n\t\tclearInterval(otherInterval);\r\n\t\tif(inputInternal.isQuestionCorrect && gameStateStudent.currentQuestion < gameStateStudent.totalQuestions - 1) {\r\n\t\t\tgameStateStudent.currentQuestion++;\r\n\t\t\tgameStateStudent.currentQuestionData.question = inputInternal.nextQuestion;\r\n\t\t\tgameStateStudent.currentQuestionData.answers = inputInternal.choices;\r\n\t\t\tgameStateStudent.currentQuestionData.timeLimit = inputInternal.currentQuestionTime;\r\n\t\t\tArray.from($('studentAnswersFlex').children).forEach((object) => {\r\n\t\t\t\tobject.classList.add('transitionQuestionB');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twhile(object.firstElementChild.firstChild) object.firstElementChild.removeChild(object.firstElementChild.lastChild);\r\n\t\t\t\t\tobject.disabled = false;\r\n\t\t\t\t\tobject.classList.remove('transitionQuestionB');\r\n\t\t\t\t\tobject.classList.add('transitionQuestionC');\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tobject.classList.remove('transitionQuestionC');\r\n\t\t\t\t\t}, 400);\r\n\t\t\t\t}, 400);\r\n\t\t\t});\r\n\t\t\t$('titleButtonStudent').classList.add('transitionQuestionA');\r\n\t\t\t$('studentShortAnswer').classList.add('transitionQuestionB');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetQuestion();\r\n\t\t\t}, 400);\r\n\t\t\t// Separate timeout to get on a separate thread and fix random flickering\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('studentShortAnswer').classList.add('transitionQuestionC');\r\n\t\t\t\t$('studentShortAnswer').classList.remove('transitionQuestionB');\r\n\t\t\t}, 400);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('titleButtonStudent').classList.remove('transitionQuestionA');\r\n\t\t\t\t$('studentShortAnswer').classList.remove('transitionQuestionC');\r\n\t\t\t}, 800);\r\n\t\t}\r\n\t\telse if(inputInternal.isQuestionCorrect) {\r\n\t\t\tgameStateStudent.currentQuestion++;\r\n\t\t\tupdateStudentLocation(gameStateStudent.currentQuestion);\r\n\t\t\t$('errorMessageB').style.display = 'block';\r\n\t\t}\r\n\t\telse if(!inputInternal.isQuestionCorrect) {\r\n\t\t\tvar start = Date.now();\r\n\t\t\tvar init = inputInternal.currentQuestionTime;\r\n\t\t\totherInterval = setInterval(() => {\r\n\t\t\t\tvar delta = (Date.now() - start) / 1000;\r\n\t\t\t\tvar internal = init - delta;\r\n\t\t\t\tif(internal < 0) {internal = 0};\r\n\t\t\t\t$('mistakeQuestion').textContent = `You can try again in ${Math.floor(internal)} seconds`;\r\n\t\t\t}, 100);\r\n\t\t\tArray.from($('studentAnswersFlex').children).forEach((object) => {\r\n\t\t\t\tobject.classList.add('transitionQuestionB');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tobject.style.display = 'none';\r\n\t\t\t\t\twhile(object.firstElementChild.firstChild) object.firstElementChild.removeChild(object.firstElementChild.lastChild);\r\n\t\t\t\t\tobject.disabled = false;\r\n\t\t\t\t\tobject.classList.remove('transitionQuestionB');\r\n\t\t\t\t\tresettableTime = setTimeout(() => {\r\n\t\t\t\t\t\tobject.style.display = 'block';\r\n\t\t\t\t\t\tobject.classList.add('transitionQuestionC');\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tobject.classList.remove('transitionQuestionC');\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}, (inputInternal.currentQuestionTime * 1000));\r\n\t\t\t\t}, 400);\r\n\t\t\t});\r\n\t\t\t$('titleButtonStudent').classList.add('transitionQuestionB');\r\n\t\t\t$('studentShortAnswer').classList.add('transitionQuestionB');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('titleButtonStudent').classList.remove('transitionQuestionB');\r\n\t\t\t\t$('studentShortAnswer').classList.remove('transitionQuestionB');\r\n\t\t\t\t$('titleButtonStudent').style.display = 'none';\r\n\t\t\t\t$('studentShortAnswer').style.display = 'none';\r\n\t\t\t\t$('userNotifyPlay').style.display = 'block';\r\n\t\t\t\tresettableTime2 = setTimeout(() => {\r\n\t\t\t\t\t$('userNotifyPlay').classList.add('fadeOutThingy');\r\n\t\t\t\t\t$('titleButtonStudent').classList.add('transitionQuestionC');\r\n\t\t\t\t\t$('studentShortAnswer').classList.add('transitionQuestionC');\r\n\t\t\t\t\t$('titleButtonStudent').style.display = 'block';\r\n\t\t\t\t\tsetQuestion();\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t$('studentShortAnswer').classList.remove('transitionQuestionC');\r\n\t\t\t\t\t\t$('titleButtonStudent').classList.remove('transitionQuestionC');\r\n\t\t\t\t\t}, 400);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tclearInterval(otherInterval);\r\n\t\t\t\t\t\t$('userNotifyPlay').style.display = 'none';\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}, (inputInternal.currentQuestionTime * 1000));\r\n\t\t\t}, 400);\r\n\t\t}\r\n\t}\r\n\telse if(inputInternal.hasOwnProperty('gameFinish')) {\r\n\t\t$('gameFinishNotify').style.display = 'block';\r\n\t\tgameStateStudent.timeLeft = inputInternal.timeTillEnd;\r\n\t\t$('gameFinishNotify').textContent = `The game will end in ${gameStateStudent.timeLeft}s`;\r\n        var start = Date.now();\r\n\t\tvar init = gameStateStudent.timeLeft;\r\n\t\tfinishUpInterval = setInterval(() => {\r\n\t\t\tvar delta = (Date.now() - start) / 1000;\r\n\t\t\tvar internal = init - delta;\r\n            if(internal < 0) {internal = 0};\r\n            gameStateStudent.timeLeft = internal;\r\n\t\t\t$('gameFinishNotify').textContent = `The game will end in ${Math.floor(gameStateStudent.timeLeft)}s`;\r\n\t\t}, 100);\r\n        resettableTime3 = setTimeout(() => {\r\n            clearInterval(finishUpInterval);\r\n\t\t\t$('gameFinishNotify').style.animation = 'fadeOut 0.3s';\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$('gameFinishNotify').style.display = 'none';\r\n\t\t\t\t$('gameFinishNotify').style.animation = 'flowFromTop 1s forwards';\r\n\t\t\t}, 300);\r\n        }, gameStateStudent.timeLeft * 1000);\r\n\t}\r\n\telse if(inputInternal.hasOwnProperty('gameEnd')) {\r\n\t\t$('gameResults').style.display = 'block';\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('errorMessageB').style.display = 'none';\r\n\t\t}, 500);\r\n\t}\r\n}\r\n\r\nfunction setQuestion() {\r\n\tif(!gameStateStudent) return;\r\n\tif(gameStateStudent.currentQuestion > gameStateStudent.totalQuestions) {\r\n\t\t//waiting for other players...\r\n\t}\r\n\telse {\r\n\t\tupdateStudentLocation(gameStateStudent.currentQuestion);\r\n\t}\r\n\t$('studentAnswersFlex').style.display = 'flex';\r\n\t$('titleButtonStudent').firstElementChild.textContent = decodeURI(gameStateStudent.currentQuestionData.question);\r\n\tvar options = $('studentAnswersFlex').children;\r\n\tfor (var i = 0; i < options.length; i++) {\r\n\t\tif (!gameStateStudent.currentQuestionData.answers[i]) {\r\n\t\t\toptions[i].style.display = 'none';\r\n\t\t}\r\n\t\telse {\r\n\t\t\toptions[i].disabled = false;\r\n\t\t\toptions[i].style.display = 'block';\r\n\t\t\toptions[i].firstElementChild.textContent = decodeURI(gameStateStudent.currentQuestionData.answers[i]);\r\n\t\t}\r\n\t}\r\n\tif (gameStateStudent.currentQuestionData.answers.join(\"\").length == 0) {\r\n\t\t$('resettableCharLimited').textContent = '0/180';\r\n\t\t$('studentAnswersFlex').style.display = 'none';\r\n\t\t$('studentShortAnswer').style.display = 'block';\r\n\t\t$('studentShortAnswerText').textContent = null;\r\n\t\t$('studentShortAnswerText').classList.remove('contentEditableDisabled');\r\n\t\t$('studentShortAnswerText').contentEditable = true;\r\n\t\t$('shortAnswerSubmitButton').disabled = false;\r\n\t}\r\n\telse {\r\n\t\t$('studentShortAnswer').style.display = 'none';\r\n\t}\r\n\tif (gameStateStudent.currentQuestionData.timeLimit == false) {\r\n\t\t$('timeLeftCounter').style.display = 'none';\r\n\t}\r\n\telse {\r\n\t\t$('timeLeftCounter').style.display = 'block';\r\n\t\t$('timeLeftCounter').textContent = `(Time Left: ${gameStateStudent.currentQuestionData.timeLimit}s)`;\r\n\t\tvar start = Date.now();\r\n\t\tvar init = gameStateStudent.currentQuestionData.timeLimit;\r\n\t\ttimerInterval = setInterval(() => {\r\n\t\t\tvar delta = (Date.now() - start) / 1000;\r\n\t\t\tgameStateStudent.currentQuestionData.timeLimit = init - delta;\r\n\t\t\tif(gameStateStudent.currentQuestionData.timeLimit < 0 && gameStateStudent.currentQuestionData.timeLimit > -999) {\r\n\t\t\t\t$('timeLeftCounter').textContent = `(Time Penalty: ${Math.abs(Math.floor(gameStateStudent.currentQuestionData.timeLimit))}s)`;\r\n\t\t\t}\r\n\t\t\telse if(gameStateStudent.currentQuestionData.timeLimit < -999) {\r\n\t\t\t\t$('timeLeftCounter').textContent = `(You're very slow)`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$('timeLeftCounter').textContent = `(Time Left: ${Math.floor(gameStateStudent.currentQuestionData.timeLimit)}s)`;\r\n\t\t\t}\r\n\t\t}, 10); \r\n\t}\r\n}\r\n\r\nexport function updateStudentLocation(studentLocation) {\r\n\tvar internalPercentage = mathClamp((studentLocation * 114) / window.innerWidth, 0, 1);\r\n\tif(internalPercentage > 0.75) {\r\n\t\tbottomBarOffset -= 114;\r\n\t}\r\n\tstudentLocation = studentLocation - Math.abs((bottomBarOffset - 15) / 114);\r\n\troot.style.setProperty('--questionOffset', studentLocation);\r\n\troot.style.setProperty('--bottomBarOffset', bottomBarOffset + \"px\");\r\n}\r\n\r\nexport function answerQuestion(answer) {\r\n\tconsole.log(answer);\r\n}\r\n\r\nexport function submitMultipleChoice(event) {\r\n\tvar response = event.target.id.charAt(event.target.id.length - 1);\r\n\tanswerQuestion(response);\r\n\tclearInterval(timerInterval);\r\n\tArray.from($('studentAnswersFlex').children).forEach( (object, index) => {\r\n\t\tobject.disabled = true;\r\n\t\tif(index + 1 == response) {\r\n\t\t\twhile(object.firstElementChild.firstChild) object.firstElementChild.removeChild(object.firstElementChild.lastChild);\r\n\t\t\tobject.firstElementChild.appendChild($('svgLoader').content.cloneNode(true));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function submitShortAnswer() {\r\n\t$('studentShortAnswerText').contentEditable = false;\r\n\t$('shortAnswerSubmitButton').disabled = true;\r\n\t$('studentShortAnswerText').classList.add('contentEditableDisabled');\r\n\tanswerQuestion($('studentShortAnswerText').textContent);\r\n\tclearInterval(timerInterval);\r\n}\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tif (gameStateStudent) {\r\n\t\tbottomBarOffset = 15;\r\n\t\tfor (var i = 0; i <= gameStateStudent.currentQuestion; i++) {\r\n\t\t\tupdateStudentLocation(i);\r\n\t\t}\r\n\t}\r\n});"],"sourceRoot":""}